# 머신러닝을 활용한 주가 예측 시스템 개발 - 1. 개발 동기

## 시작 동기

주식 투자에서 가장 중요한 것은 **시장의 방향성을 예측하는 것**이다. 전통적인 투자 분석 방법들은 기술적 분석과 기본적 분석에 의존하지만, 이는 인간의 감정적 편향과 제한된 정보 처리 능력으로 인해 한계가 있다.

머신러닝의 강력한 패턴 인식 능력을 활용하여 이러한 한계를 극복할 수 있지 않을까? 특히 시계열 데이터에 특화된 LSTM(Long Short-Term Memory) 네트워크를 사용하면 주가의 복잡한 패턴을 학습하여 미래 가격을 예측할 수 있을 것이라 생각했다.

이 프로젝트는 현재 시장상황과 차트를 분석하여 구독자들에게 알림을 보내주고 있다. 여기에 인공지능 모델의 주가예측까지 더하여 투자에 도움되는 정보를 추가적으로 제공하는것이 목표이다

## 핵심 기술 선택: LSTM

### 왜 LSTM을 선택했는가?

주가 예측에는 **시계열 데이터의 장기 의존성을 학습할 수 있는 모델**이 필요하다. LSTM을 선택한 이유는 다음과 같다:

1. **시계열 특화**: 순차적 데이터의 장기 패턴을 효과적으로 학습
2. **기울기 소실 문제 해결**: 전통적인 RNN의 한계를 극복
3. **멀티 타임프레임 예측**: 7일, 14일, 30일 후의 가격을 동시에 예측 가능
4. **실시간 학습**: 새로운 데이터로 지속적인 모델 업데이트 가능

## 시스템 아키텍처

### 전체 프로세스

```
데이터 수집 → 전처리 → 특성 엔지니어링 → 모델 학습 → 예측 → 결과 저장
```

### 핵심 구성 요소

#### 1. 데이터 수집 계층

- **가격 데이터**: OHLCV (Open, High, Low, Close, Volume)
- **기술적 지표**: RSI, MACD, 볼린저 밴드, 이동평균 등
- **감정분석 데이터**: 뉴스 기반 감정 점수
- **시간 특성**: 요일, 월, 분기, 휴일 등

#### 2. 특성 엔지니어링 계층

총 **172개의 특성**을 생성하여 모델에 입력한다:

- **기본 가격 특성**: 7개 (OHLCV + 변화율)
- **기술적 지표**: 39-45개 (시장 상황에 따라 변동)
- **시간 특성**: 32개 (요일, 월, 분기, 휴일 등)
- **감정 특성**: 26개 (뉴스 감정분석)
- **엔지니어링 특성**: 68개 (지연 특성, 롤링 통계 등)

#### 3. 모델 계층

- **입력 형태**: (60, 172) - 60일간의 172개 특성
- **LSTM 레이어**: 2개 (각각 50개 유닛)
- **드롭아웃**: 0.2 (과적합 방지)
- **출력**: 3개 (7일, 14일, 30일 예측)

#### 4. 예측 서비스 계층

- **FastAPI 기반 웹 서비스**
- **실시간 예측 API**
- **결과 저장 및 추적**

## 데이터 품질 관리

### 핵심 전략

- **결측치 처리**: Forward fill, Backward fill 방식
- **이상치 탐지**: 통계적 방법을 통한 이상치 식별
- **정규화**: MinMaxScaler를 통한 0-1 범위 정규화
- **검증**: 데이터 품질 검증 시스템 구축

## 성능 평가 지표

### 예측 정확도 지표

1. **MAE (Mean Absolute Error)**: 절대 오차의 평균
2. **RMSE (Root Mean Squared Error)**: 제곱근 평균 제곱 오차
3. **Directional Accuracy**: 상승/하락 방향 예측 정확도

### 백테스팅 전략

- **Walk-forward Analysis**: 시간에 따른 성능 변화 분석
- **Out-of-sample Testing**: 훈련 데이터와 분리된 테스트
- **Cross-validation**: 시계열 데이터에 적합한 검증 방법

## 개발 단계

인공지능 모델을 만드는 것은 전체 프로젝트의 일부이기 떄문에 큰틀의 계획은 있지만 구체적인 단계는 설정하지 않고 진행하고 있다.
인공지능의 개발 과정을 꾸준히 글로 남겨 업데이트할 예정이다.
